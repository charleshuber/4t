package fr.metz.surfthevoid.tttt.rest.resources;

import fr.metz.surfthevoid.tttt.rest.db.entity.GenericDbo;

public abstract class Validator<T extends GenericDbo> {
	
	public final void validate(T input, Operation op) throws ValidationException{
		validateState(input, op);
		validateInput(input, op);
	}
	
	protected void validateState(T input, Operation op) throws ValidationException {
		if(op == Operation.CREATE && input.getId() != null){
			throw new ValidationException();
		} else if(op == Operation.UDPDATE && input.getId() == null){
			
		}
	}

	protected abstract void validateInput(T input, Operation op) throws ValidationException;
	
	public static class ValidationException extends Exception {
		private static final long serialVersionUID = 6296828042739307519L;
		protected ValidationException(){}
	}
}
